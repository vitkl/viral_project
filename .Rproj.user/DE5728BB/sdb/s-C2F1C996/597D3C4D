{
    "collab_server" : "",
    "contents" : "---\ntitle: \"InterPro_entry_types\"\nauthor: \"Vitalii Kleshchevnikov\"\ndate: \"22/06/2017\"\noutput: \n  html_document: \n    toc: yes\n---\n\n```{r setup, include=FALSE}\nknitr::opts_chunk$set(echo = TRUE)\npackages = c(\"data.table\",\"downloader\",\"DT\")\n\nif(mean(packages %in% names(installed.packages()[,\"Package\"])) != 1){\n      packages_to_install = packages[!packages %in% names(installed.packages()[,\"Package\"])]\n      install.packages(packages_to_install)\n      packages_to_install = packages[!packages %in% names(installed.packages()[,\"Package\"])]\n      source(\"https://bioconductor.org/biocLite.R\")\n      biocLite(packages_to_install)\n}\n\nsuppressPackageStartupMessages({\n    library(data.table)\n    library(downloader)\n    library(DT)\n})\n```\n\n## Downloading InterPro entry.list\n\n```{r}\nurl = \"ftp://ftp.ebi.ac.uk/pub/databases/interpro/entry.list\"\nfile = \"./data_files/InterPro.entry.list.txt\"\ndownload(url, file)\n```\n\n## Reading InterPro entry.list and converting it into the table\n\n```{r}\nInterPro_entry = readLines(file)\ntypes = which(substr(InterPro_entry, 1, 3) != \"IPR\")\n\nInterPro_entry_types = data.table()\nfor(x in 1:(length(types)-1)) {\n    InterPro_entry_types = rbind(InterPro_entry_types, data.table(INTERPRO_ID = substr(InterPro_entry[(types[x]+1):(types[x+1]-1)],1,9), \n               INTERPRO_NAME = substr(InterPro_entry[(types[x]+1):(types[x+1]-1)],10,\n                                      nchar(InterPro_entry[(types[x]+1):(types[x+1]-1)])), \n               ENTRY_TYPE = InterPro_entry[types[x]]))\n}\n```\n\n## Saving InterPro entry_types table\n\n```{r}\nfwrite(InterPro_entry_types, \"./processed_data_files/InterPro_entry_types.txt\", sep = \"\\t\")\n```\n\n## Interactive InterPro entry_types table\n\n```{r}\ndatatable(InterPro_entry_types)\n```",
    "created" : 1498140301935.000,
    "dirty" : true,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2027532031",
    "id" : "597D3C4D",
    "lastKnownWriteTime" : 1498142209,
    "last_content_update" : 1498142988778,
    "path" : "~/Desktop/viral_project/InterPro_entry_types.Rmd",
    "project_path" : "InterPro_entry_types.Rmd",
    "properties" : {
        "last_setup_crc32" : "70241D792b2f94",
        "tempName" : "Untitled1"
    },
    "relative_order" : 3,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_markdown"
}